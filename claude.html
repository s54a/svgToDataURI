<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SVG to Favicon Converter</title>
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%231f2937'/%3E%3Ctext x='50' y='50' font-size='50' fill='%23ffffff' text-anchor='middle' dy='.3em' font-family='Poppins, sans-serif' font-weight='bold'%3ERJ%3C/text%3E%3C/svg%3E"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu,
          Cantarell, sans-serif;
        background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        color: #e2e8f0;
        min-height: 100vh;
        padding: 2rem;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        margin-bottom: 3rem;
        padding-bottom: 2rem;
        border-bottom: 1px solid #334155;
      }

      h1 {
        font-size: 2.5rem;
        font-weight: 700;
        background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
      }

      .subtitle {
        color: #94a3b8;
        font-size: 1rem;
      }

      .grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin-bottom: 2rem;
      }

      @media (max-width: 768px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }

      .card {
        background: #1e293b;
        border: 1px solid #334155;
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
      }

      .card h2 {
        font-size: 1.25rem;
        margin-bottom: 1rem;
        color: #f1f5f9;
      }

      textarea {
        width: 100%;
        min-height: 200px;
        background: #0f172a;
        border: 1px solid #334155;
        border-radius: 8px;
        padding: 1rem;
        color: #e2e8f0;
        font-family: "Courier New", monospace;
        font-size: 0.875rem;
        resize: vertical;
        transition: border-color 0.2s;
      }

      textarea:focus {
        outline: none;
        border-color: #3b82f6;
      }

      .output-box {
        background: #0f172a;
        border: 1px solid #334155;
        border-radius: 8px;
        padding: 1rem;
        min-height: 200px;
        font-family: "Courier New", monospace;
        font-size: 0.875rem;
        word-break: break-all;
        position: relative;
      }

      .btn-group {
        display: flex;
        gap: 0.75rem;
        margin-top: 1rem;
        flex-wrap: wrap;
      }

      button {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        color: white;
        border: none;
        padding: 0.625rem 1.25rem;
        border-radius: 8px;
        font-size: 0.875rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
      }

      button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(59, 130, 246, 0.4);
      }

      button:active {
        transform: translateY(0);
      }

      button.secondary {
        background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
        box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
      }

      button.secondary:hover {
        box-shadow: 0 4px 8px rgba(139, 92, 246, 0.4);
      }

      button.danger {
        background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
        box-shadow: 0 2px 4px rgba(239, 68, 68, 0.3);
      }

      button.danger:hover {
        box-shadow: 0 4px 8px rgba(239, 68, 68, 0.4);
      }

      .preview {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: #0f172a;
        border: 1px solid #334155;
        border-radius: 8px;
        margin-top: 1rem;
      }

      .preview-icon {
        width: 48px;
        height: 48px;
        border: 2px solid #334155;
        border-radius: 8px;
        padding: 4px;
      }

      .saved-list {
        max-height: 400px;
        overflow-y: auto;
      }

      .saved-item {
        background: #0f172a;
        border: 1px solid #334155;
        border-radius: 8px;
        padding: 1rem;
        margin-bottom: 0.75rem;
        transition: border-color 0.2s;
      }

      .saved-item:hover {
        border-color: #475569;
      }

      .saved-item-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 0.5rem;
      }

      .saved-item-name {
        font-weight: 600;
        color: #f1f5f9;
      }

      .saved-item-actions {
        display: flex;
        gap: 0.5rem;
      }

      .saved-item-actions button {
        padding: 0.375rem 0.75rem;
        font-size: 0.75rem;
      }

      .toast {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
        padding: 1rem 1.5rem;
        border-radius: 8px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        transform: translateY(150%);
        transition: transform 0.3s;
        z-index: 1000;
      }

      .toast.show {
        transform: translateY(0);
      }

      ::-webkit-scrollbar {
        width: 8px;
      }

      ::-webkit-scrollbar-track {
        background: #0f172a;
      }

      ::-webkit-scrollbar-thumb {
        background: #334155;
        border-radius: 4px;
      }

      ::-webkit-scrollbar-thumb:hover {
        background: #475569;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>‚ö° SVG to Favicon Converter</h1>
        <p class="subtitle">Convert SVG code to Base64 data URI for favicons</p>
      </header>

      <div class="grid">
        <div class="card">
          <h2>üìù Input SVG</h2>
          <textarea
            id="svgInput"
            placeholder="Paste your SVG code here..."
          ></textarea>
          <div class="btn-group">
            <button onclick="convertSVG()">Convert to Favicon</button>
            <button class="secondary" onclick="pasteSVG()">
              Paste from Clipboard
            </button>
            <button class="secondary" onclick="loadDefault()">
              Load Default
            </button>
          </div>
        </div>

        <div class="card">
          <h2>‚ú® Output</h2>
          <div id="output" class="output-box">
            Your converted favicon code will appear here...
          </div>
          <div class="btn-group">
            <button onclick="copyOutput()">Copy to Clipboard</button>
            <button class="secondary" onclick="saveSVG()">
              Save to Library
            </button>
          </div>
          <div class="preview" id="preview" style="display: none">
            <img id="previewIcon" class="preview-icon" alt="Preview" />
            <span>Preview</span>
          </div>
        </div>
      </div>

      <div class="card">
        <h2>üìö Saved SVGs Library</h2>
        <div class="btn-group">
          <button class="secondary" onclick="exportJSON()">
            Export as JSON
          </button>
          <button class="danger" onclick="clearLibrary()">Clear Library</button>
        </div>
        <div id="savedList" class="saved-list" style="margin-top: 1rem"></div>
      </div>
    </div>

    <div id="toast" class="toast"></div>

    <script>
      const defaultSVG = `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='20' fill='%231f2937'/><text x='50' y='50' font-size='50' fill='%23ffffff' text-anchor='middle' dy='.3em' font-family='Poppins, sans-serif' font-weight='bold'>RJ</text></svg>`;

      let savedSVGs = {};

      function loadFromStorage() {
        const stored = localStorage.getItem("savedSVGs");
        if (stored) {
          try {
            savedSVGs = JSON.parse(stored);
            renderSavedList();
          } catch (e) {
            console.error("Error loading from storage:", e);
          }
        }
      }

      function saveToStorage() {
        localStorage.setItem("savedSVGs", JSON.stringify(savedSVGs));
      }

      function convertSVG() {
        const input = document.getElementById("svgInput").value.trim();
        if (!input) {
          showToast("Please enter SVG code", "error");
          return;
        }

        const encoded = encodeURIComponent(input)
          .replace(/'/g, "%27")
          .replace(/"/g, "%22");

        const dataUri = `data:image/svg+xml,${encoded}`;
        const faviconCode = `<link rel="icon" type="image/svg+xml" href="${dataUri}">`;

        document.getElementById("output").textContent = faviconCode;

        const preview = document.getElementById("preview");
        const previewIcon = document.getElementById("previewIcon");
        previewIcon.src = dataUri;
        preview.style.display = "flex";

        showToast("Conversion successful!");
      }

      async function pasteSVG() {
        try {
          const text = await navigator.clipboard.readText();
          document.getElementById("svgInput").value = text;
          showToast("Pasted from clipboard");
        } catch (e) {
          showToast("Failed to paste from clipboard", "error");
        }
      }

      function loadDefault() {
        document.getElementById("svgInput").value = defaultSVG;
        convertSVG();
        showToast("Default SVG loaded");
      }

      async function copyOutput() {
        const output = document.getElementById("output").textContent;
        if (
          !output ||
          output === "Your converted favicon code will appear here..."
        ) {
          showToast("Nothing to copy", "error");
          return;
        }

        try {
          await navigator.clipboard.writeText(output);
          showToast("Copied to clipboard!");
        } catch (e) {
          showToast("Failed to copy", "error");
        }
      }

      function saveSVG() {
        const input = document.getElementById("svgInput").value.trim();
        const output = document.getElementById("output").textContent;

        if (
          !input ||
          output === "Your converted favicon code will appear here..."
        ) {
          showToast("Convert SVG first", "error");
          return;
        }

        const name = prompt(
          "Enter a name for this SVG:",
          `SVG ${Object.keys(savedSVGs).length + 1}`,
        );
        if (!name) return;

        savedSVGs[name] = {
          svg: input,
          favicon: output,
          timestamp: new Date().toISOString(),
        };

        saveToStorage();
        renderSavedList();
        showToast("SVG saved to library!");
      }

      function renderSavedList() {
        const list = document.getElementById("savedList");

        if (Object.keys(savedSVGs).length === 0) {
          list.innerHTML =
            '<p style="color: #64748b; text-align: center; padding: 2rem;">No saved SVGs yet. Convert and save some!</p>';
          return;
        }

        list.innerHTML = Object.entries(savedSVGs)
          .map(
            ([name, data]) => `
        <div class="saved-item">
          <div class="saved-item-header">
            <span class="saved-item-name">${name}</span>
            <div class="saved-item-actions">
              <button onclick="loadSaved('${name}')">Load</button>
              <button class="danger" onclick="deleteSaved('${name}')">Delete</button>
            </div>
          </div>
          <div style="font-size: 0.75rem; color: #64748b;">
            ${new Date(data.timestamp).toLocaleString()}
          </div>
        </div>
      `,
          )
          .join("");
      }

      function loadSaved(name) {
        const data = savedSVGs[name];
        document.getElementById("svgInput").value = data.svg;
        document.getElementById("output").textContent = data.favicon;

        const encoded = encodeURIComponent(data.svg)
          .replace(/'/g, "%27")
          .replace(/"/g, "%22");
        const dataUri = `data:image/svg+xml,${encoded}`;

        const preview = document.getElementById("preview");
        const previewIcon = document.getElementById("previewIcon");
        previewIcon.src = dataUri;
        preview.style.display = "flex";

        showToast(`Loaded "${name}"`);
        window.scrollTo({ top: 0, behavior: "smooth" });
      }

      function deleteSaved(name) {
        if (confirm(`Delete "${name}"?`)) {
          delete savedSVGs[name];
          saveToStorage();
          renderSavedList();
          showToast("SVG deleted");
        }
      }

      function exportJSON() {
        if (Object.keys(savedSVGs).length === 0) {
          showToast("Nothing to export", "error");
          return;
        }

        const json = JSON.stringify(savedSVGs, null, 2);
        const blob = new Blob([json], { type: "application/json" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = `svg-favicons-${Date.now()}.json`;
        a.click();
        URL.revokeObjectURL(url);
        showToast("Exported as JSON!");
      }

      function clearLibrary() {
        if (confirm("Clear all saved SVGs? This cannot be undone.")) {
          savedSVGs = {};
          saveToStorage();
          renderSavedList();
          showToast("Library cleared");
        }
      }

      function showToast(message, type = "success") {
        const toast = document.getElementById("toast");
        toast.textContent = message;
        toast.style.background =
          type === "error"
            ? "linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"
            : "linear-gradient(135deg, #10b981 0%, #059669 100%)";
        toast.classList.add("show");
        setTimeout(() => toast.classList.remove("show"), 3000);
      }

      loadFromStorage();
      loadDefault();
    </script>
  </body>
</html>
